<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="main.css">
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <title>Perth Business Finder</title>
    <script src="https://unpkg.com/@supabase/supabase-js"></script>
</head>
<body>
<div class="container">
    <h1>Perth Business Finder v1.3</h1>

    <!-- Search Bar -->
    <input type="text" id="search-input" placeholder="Search by business name..." oninput="searchBusinesses()">

    <!-- Category Filter -->
    <select id="category-filter" onchange="filterByCategory()">
        <option value="all">All Categories</option>
    </select>
    <div>
        <a href="https://open.kakao.com/o/sccJgmNf" target="_blank">  Question? Ask KakaoTalk</a>
    </div>

    <!-- Add Business Button -->
    <button id="add-business-btn">Add Business</button>

    <!-- Business List -->
    <div class="business-list" id="business-list"></div>

</div>


<div id="image-carousel-modal" class="img-modal">
    <div class="img-modal-content">
        <span id="close-image-modal" class="close-btn">&times;</span>
        <!-- Swiper Container for Carousel -->
        <div class="img-modal-swiper-container">
            <div class="swiper-wrapper" id="carousel-slides">
                <!-- Slides will be dynamically added here -->
            </div>
            <!-- Pagination -->
            <div class="swiper-pagination"></div>
            <!-- Navigation Buttons -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>
</div>

<!-- Modal for Adding Business -->
<div id="add-business-modal" class="modal">
    <div class="modal-content">
        <h2>Add a Business</h2>
        <form id="add-business-form">
            <input type="text" id="business-name" placeholder="Business Name" required><br><br>

            <!-- Dynamic Category Dropdown -->
            <select id="business-category">
                <option value="" disabled selected>Select Category</option>
            </select><br><br>
            <span>OR</span>
            <!-- New Category Input -->
            <input type="text" id="new-category" placeholder="Add New Category"><br><br>


            <input type="text" id="business-address" placeholder="Address" required><br><br>
            <input type="tel" id="business-phone" placeholder="Phone Number"><br><br>
            <input type="text" id="business-hours" placeholder="Opening Hours"><br><br>
            <!-- Modify file input to allow multiple image uploads -->
            <input type="file" id="business-image" accept="image/*" multiple><br><br>

            <button type="submit">Submit</button>
        </form>
        <button id="close-add-business-modal">Close</button>
    </div>
</div>

<script src="main.js"></script>

</body>
</html>
